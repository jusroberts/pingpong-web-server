
/**
 * @class
 */
class BathroomFunctions {
  updateBathroomStallStatus(bathroomData) {
    bathroomData.forEach(function(bathroom) {
      var url = window.location.href;
      //assumes the bathroom id will always be at the end
      var bathroomId = url.substring(url.lastIndexOf('/') + 1);
      if (bathroomId != bathroom.id) {
        return;
      }
      bathroom.stalls.forEach(function(stall) {
        var isStallOccupied = (stall.state == true);
        var className = isStallOccupied ? "occupied-border" : "vacant-border";
        var srcUrl = isStallOccupied ? "<%= image_path("toilet-icon-closed.jpg") %>"  : "<%= image_path("toilet-icon-open.png") %>";
        $("#stall" + stall.id).attr("class", className);
        $("#stall" + stall.id).attr("src", srcUrl);
      });
    });
  }
}