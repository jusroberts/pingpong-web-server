
/**
 * @class
 */
class BathroomFunctions {
  updateBathroomStallStatus(bathroomData) {
    bathroomData.forEach(function(bathroom) {
      var url = window.location.href;
      var bathroomIdentifier = url.substring(url.lastIndexOf('/') + 1);
      if (bathroomIdentifier == "bathrooms") {
        bathroom.stalls.forEach(function(stall) {
          //bathroom show page
          var isStallOccupied = (stall.state == true);
          var srcUrl = isStallOccupied ? "<%= image_path("toilet-closed.png") %>"  : "<%= image_path("toilet-open.png") %>";
          var stallStatusText = isStallOccupied ? "Occupied" : "Vacant";
          var stallStatusBarClass = isStallOccupied ? "occupied-text" : "vacant-text";

          $("#stallImg" + bathroom.id + "-" + stall.id).attr("src", srcUrl);
          $("#stallStatus" + bathroom.id + "-" + stall.id).text(stallStatusText);
          $("#stallStatus" + bathroom.id + "-" + stall.id).attr("class", "small-6 small-offset-3 columns center end " + stallStatusBarClass);
        });
      }
    });
  }
}
